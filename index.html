<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { 
            font-family: Arial, sans-serif; 
            background: linear-gradient(to right, #228B22, #8B0000); 
            color: white; 
            text-align: center; 
            padding: 20px; 
            margin: 0;
        }
        h1 { font-size: 2.5em; text-shadow: 2px 2px 4px rgba(0,0,0,0.8); }
        h2 { font-size: 2em; }
        input[type="text"] { 
            padding: 15px; 
            font-size: 1.2em; 
            border: none; 
            border-radius: 10px; 
            width: 300px; 
            margin: 10px; 
        }
        button { 
            background: #FFD700; 
            color: black; 
            border: none; 
            padding: 15px 30px; 
            margin: 10px; 
            font-size: 1.2em; 
            border-radius: 10px; 
            cursor: pointer; 
            transition: all 0.3s; 
        }
        button:hover { background: #FFA500; transform: scale(1.05); }
        button:disabled { background: #666; cursor: not-allowed; transform: none; }
        #result { font-size: 3em; margin-top: 50px; text-shadow: 3px 3px 6px rgba(0,0,0,0.9); }
        .question { font-size: 1.5em; margin: 30px 0; }
        #buttons { margin: 40px 0; }
        #leaderboard { 
            background: rgba(0,0,0,0.5); 
            border-radius: 15px; 
            padding: 20px; 
            margin: 20px auto; 
            max-width: 500px; 
            font-size: 1.2em; 
        }
        .leaderboard-entry { 
            display: flex; 
            justify-content: space-between; 
            padding: 10px; 
            border-bottom: 1px solid #ccc; 
        }
        .screen { display: none; }
        .screen.active { display: block; }
        #progress { font-size: 1.2em; margin: 20px 0; }
    </style>
</head>
<body>
    <!-- Start Screen -->
    <div id="startScreen" class="screen active">
        <h1>ğŸ”¥ ARPG QUIZ: PoE2 vs D4 Battle ğŸ”¥</h1>
        <h2>Extended edition with leaderboard!</h2>
        <p>Enter your nickname and fight for the top spots!</p>
        <input type="text" id="playerName" placeholder="Your nickname..." maxlength="20">
        <br>
        <button onclick="startQuiz()">START QUIZ ğŸ’€ğŸ”¥</button>
        <br><br>
        <button onclick="showLeaderboard()">View Leaderboard ğŸ†</button>
    </div>

    <!-- Quiz Screen -->
    <div id="quizScreen" class="screen">
        <h1>ğŸ”¥ ARPG QUIZ: The Battle ğŸ”¥</h1>
        <div id="progress">Question <span id="currentQ">1</span>/7</div>
        <p class="question" id="question">Loading...</p>
        <div id="buttons">
            <button id="poeBtn">Path of Exile 2 ğŸ’€</button>
            <button id="d4Btn">Diablo 4 ğŸ”¥</button>
        </div>
    </div>

    <!-- Result Screen -->
    <div id="resultScreen" class="screen">
        <div id="result"></div>
        <button onclick="showStart()">Play Again</button>
        <button onclick="showLeaderboard()">Leaderboard ğŸ†</button>
    </div>

    <!-- Leaderboard Screen -->
    <div id="leaderboardScreen" class="screen">
        <h1>ğŸ† TOP ARPG TROLL PLAYERS ğŸ†</h1>
        <div id="leaderboard"></div>
        <button onclick="showStart()">Back to Menu</button>
    </div>

    <script>
        let poeCount = 0;
        let d4Count = 0;
        let currentQuestion = 1;
        let playerName = '';

        const questions = [
            "Question 1/7: Which game has better class balance?",
            "Question 2/7: Which game is more grindy and frustrating?",
            "Question 3/7: Which game deserves the title 'bad' in 2025?",
            "Question 4/7: Which has the better endgame?",
            "Question 5/7: Which is more pay-to-win?",
            "Question 6/7: Which has uglier character models?",
            "Question 7/7: Which game earned the biggest memes in the community?"
        ];

        const poeTexts = [
            "Path of Exile 2 ğŸ’€", "PoE2 ğŸ’€", "PoE2 ğŸ’€", "PoE2 ğŸ’€", 
            "PoE2 ğŸ’€", "PoE2 ğŸ’€", "PoE2 ğŸ’€"
        ];
        const d4Texts = [
            "Diablo 4 ğŸ”¥", "Diablo 4 ğŸ”¥", "Diablo 4 ğŸ”¥", "Diablo 4 ğŸ”¥", 
            "Diablo 4 ğŸ”¥", "Diablo 4 ğŸ”¥", "Diablo 4 ğŸ”¥"
        ];

        function initButtons() {
            document.getElementById('poeBtn').onclick = function() { choose('poe'); };
            document.getElementById('d4Btn').onclick = function() { choose('d4'); };
        }

        function startQuiz() {
            playerName = document.getElementById('playerName').value.trim() || 'Anonymous';
            if (playerName) {
                poeCount = 0;
                d4Count = 0;
                currentQuestion = 1;
                showScreen('quizScreen');
                nextQuestion();
            }
        }

        function nextQuestion() {
            document.getElementById('question').innerHTML = questions[currentQuestion - 1];
            document.getElementById('poeBtn').innerHTML = poeTexts[currentQuestion - 1];
            document.getElementById('d4Btn').innerHTML = d4Texts[currentQuestion - 1];
            document.getElementById('currentQ').innerHTML = currentQuestion;
        }

        function choose(choice) {
            if (choice === 'poe') {
                poeCount++;
            } else {
                d4Count++;
            }

            currentQuestion++;
            if (currentQuestion <= 7) {
                nextQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            showScreen('resultScreen');
            let resultHtml = '';
            let score = Math.max(poeCount, d4Count);

            if (poeCount >= 4) {
                resultHtml = `
                    <h1>POE2BAD ğŸ˜‚ğŸ’€</h1>
                    <p><strong>${playerName}</strong>, your score: ${poeCount}/7 for PoE2!<br>
                    Path of Exile 2 is total trash! Share it! ğŸ”¥</p>
                `;
            } else if (d4Count >= 4) {
                resultHtml = `
                    <h1>D4 BAD D4 DOGSHIT ğŸ˜‚ğŸ”¥</h1>
                    <p><strong>${playerName}</strong>, your score: ${d4Count}/7 for D4!<br>
                    Diablo 4 is total trash! Share it! ğŸ’€</p>
                `;
            } else {
                resultHtml = `
                    <h1>Tie? ğŸ˜ˆ</h1>
                    <p><strong>${playerName}</strong>, mixed feelings: ${poeCount} PoE2 vs ${d4Count} D4.<br>
                    Try to be more consistent!</p>
                `;
            }

            resultHtml += `<p>Your max streak: ${score}/7 ğŸ†</p>`;
            document.getElementById('result').innerHTML = resultHtml;

            saveToLeaderboard(playerName, score);
        }

        function saveToLeaderboard(name, score) {
            let leaderboard = JSON.parse(localStorage.getItem('arpgLeaderboard') || '[]');
            leaderboard.push({ name, score, date: new Date().toLocaleDateString() });
            leaderboard.sort((a, b) => b.score - a.score);
            leaderboard = leaderboard.slice(0, 10);
            localStorage.setItem('arpgLeaderboard', JSON.stringify(leaderboard));
        }

        function showLeaderboard() {
            let leaderboard = JSON.parse(localStorage.getItem('arpgLeaderboard') || '[]');
            let html = '<div id="leaderboardList">';
            if (leaderboard.length === 0) {
                html += '<p>No scores yet! Be the first! ğŸ†</p>';
            } else {
                leaderboard.forEach((entry, index) => {
                    html += `
                        <div class="leaderboard-entry">
                            <span>#${index + 1} ${entry.name}</span>
                            <span>${entry.score}/7 (${entry.date})</span>
                        </div>
                    `;
                });
            }
            html += '</div>';
            document.getElementById('leaderboard').innerHTML = html;
            showScreen('leaderboardScreen');
        }

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        function showStart() {
            document.getElementById('playerName').value = '';
            showScreen('startScreen');
        }

        initButtons();
    </script>
</body>
</html>
